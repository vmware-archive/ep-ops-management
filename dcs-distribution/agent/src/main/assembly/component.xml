<?xml version="1.0" encoding="UTF-8"?>
<component>
	<!-- fileMode and directoryMode should always favor owner, granting him minimally needed privileges, while preventing access from others -->
	<fileSets>
                <fileSet>
                        <directory>../../src/main/resources</directory>
                        <outputDirectory>/</outputDirectory>
                        <excludes>
                                <exclude>**/*.sh</exclude>
                                <exclude>**/*.pl</exclude>
                                <exclude>**/.gitignore</exclude>
                                <exclude>**/*.tar.gz</exclude>
                        </excludes>
                        <filtered>true</filtered>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                </fileSet>
                <fileSet>
                        <directory>../../src/main/resources</directory>
                        <outputDirectory>/</outputDirectory>
                        <includes>
                                <include>**/*.sh</include>
                                <include>**/*.pl</include>
                        </includes>
                        <filtered>true</filtered>
                        <fileMode>0700</fileMode>
                        <directoryMode>0700</directoryMode>
                </fileSet>
                <fileSet>
                        <directory>../../src/main/resources</directory>
                        <outputDirectory>/</outputDirectory>
                        <includes>
                                <include>**/*.tar.gz</include>
                        </includes>
                        <fileMode>0700</fileMode>
                        <directoryMode>0700</directoryMode>
                </fileSet>
        </fileSets>
        <dependencySets>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                        <useTransitiveFiltering>true</useTransitiveFiltering>
                        <outputDirectory>/pdk/lib</outputDirectory>
                        <excludes>
                                <exclude>org.hyperic.dcs.plugin:*</exclude>
                                <exclude>mysql:mysql-connector-java</exclude>
                                <exclude>org.postgresql:postgresql</exclude>
                                <exclude>mx4j:*</exclude>
                                <exclude>junit:*</exclude>
                                <exclude>org.springframework:spring-test</exclude>
                                <exclude>org.hyperic.dcs:dcs-tools-pdk:*:javadoc</exclude>
                                <exclude>org.hyperic.dcs:dcs-agent-product</exclude>
                                <exclude>org.hyperic.dcs:dcs-agent-handler*</exclude>
                                <exclude>org.hyperic.dcs:dcs-agent-core</exclude>
                                <exclude>org.hyperic.dcs:dcs-tools-lather</exclude>
                                <exclude>org.codehaus.groovy:groovy-all*</exclude>
                        </excludes>
                        <includes>
                                <include>*:jar</include>
                        </includes>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                        <outputDirectory>/pdk/javadoc</outputDirectory>
                        <includes>
                                <include>org.hyperic.dcs:dcs-tools-pdk:*:javadoc</include>
                        </includes>
                        <unpack>true</unpack>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
				<!-- strip the versions from the artifacts names -->
                        <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
                        <outputDirectory>/pdk/plugins</outputDirectory>
                        <includes>
                                <include>org.hyperic.dcs.plugin:*:jar</include>
                        </includes>
                        <excludes>
                                <exclude>org.hyperic.dcs.plugin:groovy-scripting-plugin:jar</exclude>
                        </excludes>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
				<!-- strip the versions from the artifacts names -->
                        <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
                        <outputDirectory>/pdk/plugins/scripting</outputDirectory>
                        <includes>
                                <include>org.hyperic.dcs.plugin:groovy-scripting-plugin</include>
                        </includes>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                </dependencySet>
               <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                                <!-- Don't strip the versions from the artifacts names -->
                        <outputDirectory>/pdk/plugins/scripting</outputDirectory>
                        <includes>
                                <include>org.codehaus.groovy:groovy-all</include>
                        </includes>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                </dependencySet>

                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                        <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
                        <outputDirectory>/pdk/lib</outputDirectory>
                        <includes>
                                <include>org.hyperic.dcs:dcs-agent-product</include>
                        </includes>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                        <outputDirectory>pdk/lib/jdbc</outputDirectory>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                        <includes>
                                <include>mysql:mysql-connector-java</include>
                                <include>org.postgresql:postgresql</include>
                        </includes>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>true</useTransitiveDependencies>
                        <outputDirectory>pdk/lib/mx4j</outputDirectory>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                        <includes>
                                <include>mx4j:*</include>
                        </includes>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                        <outputDirectory>pdk/lib</outputDirectory>
                        <unpack>true</unpack>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                        <includes>
                                <include>org.hyperic:sigar:zip</include>
                        </includes>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                        <outputDirectory>/lib</outputDirectory>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                        <includes>
                                <include>org.hyperic.dcs:dcs-agent-core:jar</include>
                                <include>org.hyperic.dcs:dcs-tools-lather:jar</include>
                        </includes>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>false</useTransitiveDependencies>
                        <outputDirectory>/lib/handlers</outputDirectory>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                        <includes>
                                <include>org.hyperic.dcs:dcs-agent-handler*:*</include>
                        </includes>
                </dependencySet>
                <dependencySet>
                        <useProjectArtifact>false</useProjectArtifact>
                        <useTransitiveDependencies>true</useTransitiveDependencies>
                        <useTransitiveFiltering>false</useTransitiveFiltering>
                        <outputDirectory>pdk/lib</outputDirectory>
                        <fileMode>0600</fileMode>
                        <directoryMode>0700</directoryMode>
                        <excludes>
                                <exclude>org.hyperic.dcs:dcs-tools-pdk:*:javadoc</exclude>
                        </excludes>
                        <includes>
                                <include>org.hyperic.dcs:dcs-tools-common:jar</include>
                                <include>org.hyperic.dcs:dcs-tools-pdk:jar</include>
                                <include>org.apache.httpcomponents:*</include>
                                <include>javax.xml.bind:*</include>
                                <include>javax.xml:*</include>
                                <include>javax.activation:*</include>
                                <include>com.sun.xml.bind:*</include>
                                <include>javax.xml.stream:*</include>
                                <include>org.dnsjava:*</include>
                                <include>org.jasypt:*</include>
                                <include>org.codehaus.mojo:animal-sniffer-annotations</include>
                        </includes>
                </dependencySet>
                <dependencySet>
                    <!-- extract PDK's inherent plugins as regular plugins -->
                    <outputDirectory>/pdk/plugins</outputDirectory>
                    <includes>
                        <include>org.hyperic.dcs:dcs-tools-pdk:jar</include>
                    </includes>
                    <unpack>true</unpack>
                    <unpackOptions>
                        <includes>
                            <include>*.xml</include>
                        </includes>
                    </unpackOptions>
                </dependencySet>
        </dependencySets>
</component>
